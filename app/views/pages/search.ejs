<%
var queryLink = '';

if (pageData.anyData.isStrict) queryLink += '&strict=true';
if (pageData.anyData.isTag) queryLink += '&tag=true';
%>
<!DOCTYPE html>
<html>
  <head>
    <%- include('./../components/head') %>
    <meta name="csrfToken" content="<%= pageData.csrfToken %>">
  </head>
  <body>
    <%- include('./../components/navbar') %>
    <header>
      <%- include('./../components/header-title', {mes: '検索結果', logo: 'search'})  %>
    </header>
    <main>
      <h4 class="text-center" style="color: #555">『<%= pageData.anyData.searchWord %>』</h4>
      <% if (pageData.anyData.searchRes.length === 0) { %>
        <%- include('../components/no-item', {title: "検索結果が見つかりませんでした", mes: "異なる単語でお試しください", icon: "search"}) %>
      <% } %>
      <% if (pageData.anyData.searchHis.length !== 0) { %>
        <h4 class="mx-2">他の人はこんな検索をしていました</h4>
        <div class="search-history-tag-box px-2">
        <% pageData.anyData.searchHis.forEach(data => { %>
          <a href="/search?search=<%= data.Words %>&type=<%= pageData.anyData.searchCategory %>" class="search-history-tag px-3 py-1">
            <%= data.Words %>
          </a>
        <% }) %>
        </div>
      <% } %>

      <%- include('../components/book-item-list', {books: pageData.anyData.searchRes}) %>

      <%- include('../components/pagination', {paginationData: pageData.anyData.paginationData, url: `/search?search=${pageData.anyData.searchWord}${queryLink}&type=${pageData.anyData.searchCategory}&`}) %>
    </main>
    <%- include('./../components/input-js') %>
    <script src="<%= pageData.origin %>/js/getImgLinks.js"></script>
  </body>
</html>